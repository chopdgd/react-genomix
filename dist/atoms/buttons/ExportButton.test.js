import React from"react";import ReactDOM from"react-dom";import{shallow}from"enzyme";import{map,omit}from"lodash";import{ExportButton}from"../../index";describe("Test ExportButton",function(){it("renders without crashing",function(){var a=document.createElement("div");ReactDOM.render(React.createElement(ExportButton,null),a)}),it("onExport is called w/ data onClick",function(){var a=jest.fn();a.mockReturnValueOnce([{test:1}]);var b=shallow(React.createElement(ExportButton,{data:[{test:1}],content:"Export Me",filenamePrefix:"newPrefix",onExport:a}));b.find("CSVLink").props().children.props.onClick(),expect(a).toHaveBeenCalledWith([{test:1}])}),it("onExport is called and affects data",function(){var a=shallow(React.createElement(ExportButton,{data:[{test:1,test2:2}],content:"Export Me",filenamePrefix:"newPrefix",onExport:function c(a){var b=[];return map(a,function(a){return b.push(omit(a,["test2"]))}),b}}));a.find("CSVLink").props().children.props.onClick(),expect(a.state().data).toEqual([{test:1}])}),it("onExport is called and does not affect data",function(){var a=shallow(React.createElement(ExportButton,{data:[{test:1,test2:2}],content:"Export Me",filenamePrefix:"newPrefix"}));a.find("CSVLink").props().children.props.onClick(),expect(a.state().data).toEqual([{test:1,test2:2}])}),it("onClick is passed and called",function(){var a=jest.fn(),b=shallow(React.createElement(ExportButton,{data:[{test:1,test2:2}],filenamePrefix:"newPrefix",onClick:a}));b.find("Button").simulate("click",{hi:1},"Mike"),expect(a).toHaveBeenCalledWith({hi:1},"Mike")})});