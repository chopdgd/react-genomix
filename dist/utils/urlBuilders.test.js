import*as urls from"../constants/genomics-urls";import{utils}from"../index";describe("Test URL Builders",function(){var a=10,b="A",c="T",d="cDNA-1",e="MFN2";it("Build NCBI efetch url",function(){var a=utils.urlBuilders.efetch("db1",1),b="".concat(urls.NCBI_EFETCH_ENDPOINT,"?retmode=xml&db=db1&id=1&");expect(a).toEqual(b)}),it("Build NCBI efetch url w/ retmode",function(){var a=utils.urlBuilders.efetch("db1",1,"json"),b="".concat(urls.NCBI_EFETCH_ENDPOINT,"?retmode=json&db=db1&id=1&");expect(a).toEqual(b)}),it("Build NCBI efetch url w/ param",function(){var a=utils.urlBuilders.efetch("db1",1,"json","hi=mike"),b="".concat(urls.NCBI_EFETCH_ENDPOINT,"?retmode=json&db=db1&id=1&hi=mike");expect(a).toEqual(b)}),it("Build NCBI esummary url",function(){var a=utils.urlBuilders.esummary("db1",1),b="".concat(urls.NCBI_ESUMMARY_ENDPOINT,"?retmode=json&db=db1&id=1&");expect(a).toEqual(b)}),it("Build NCBI esummary url w/ retmode",function(){var a=utils.urlBuilders.esummary("db1",1,"xml"),b="".concat(urls.NCBI_ESUMMARY_ENDPOINT,"?retmode=xml&db=db1&id=1&");expect(a).toEqual(b)}),it("Build NCBI esummary url w/ params",function(){var a=utils.urlBuilders.esummary("db1",1,"xml","params"),b="".concat(urls.NCBI_ESUMMARY_ENDPOINT,"?retmode=xml&db=db1&id=1&params");expect(a).toEqual(b)}),it("Build NCBI esearch url",function(){var a=utils.urlBuilders.esearch("db1","term"),b="".concat(urls.NCBI_ESEARCH_ENDPOINT,"?retmode=json&db=db1&term=term&");expect(a).toEqual(b)}),it("Build NCBI esearch url w/ retmode",function(){var a=utils.urlBuilders.esearch("db1","term","xml"),b="".concat(urls.NCBI_ESEARCH_ENDPOINT,"?retmode=xml&db=db1&term=term&");expect(a).toEqual(b)}),it("Build NCBI esearch url w/ params",function(){var a=utils.urlBuilders.esearch("db1","term","xml","filters"),b="".concat(urls.NCBI_ESEARCH_ENDPOINT,"?retmode=xml&db=db1&term=term&filters");expect(a).toEqual(b)}),it("Build URL to search PubMed",function(){var a=utils.urlBuilders.pubmedSearch("term"),b="".concat(urls.PUBMED_URL,"/?term=term");expect(a).toEqual(b)}),it("Build URL to PubMed entry",function(){var a=utils.urlBuilders.pubmedEntry("id"),b="".concat(urls.PUBMED_URL,"/id");expect(a).toEqual(b)}),it("Build URL to NCBI Variation Viewer entry",function(){var b=utils.urlBuilders.variationViewer("1",a,a),c="".concat(urls.NCBI_VARIATION_URL,"/?assm=GCF_000001405.25&chr=1&from=10&to=10");expect(b).toEqual(c)}),it("Build URL to search ClinVar",function(){var a=utils.urlBuilders.clinvarSearch("term"),b="".concat(urls.CLINVAR_URL,"/?term=term");expect(a).toEqual(b)}),it("Build URL to ClinVar Entry",function(){var a=utils.urlBuilders.clinvarEntry("id1"),b="".concat(urls.CLINVAR_URL,"/variation/id1");expect(a).toEqual(b)}),it("Build URL to COSMIC Entry w/o trimmed Id",function(){var a=utils.urlBuilders.cosmicEntry("COSM1234"),b="".concat(urls.COSMIC_URL,"/mutation/overview?id=1234");expect(a).toEqual(b)}),it("Build URL to COSMIC Entry w/ trimmed Id",function(){var a=utils.urlBuilders.cosmicEntry("999"),b="".concat(urls.COSMIC_URL,"/mutation/overview?id=999");expect(a).toEqual(b)}),it("Build URL to a locus in Ensembl w/ defaults",function(){var b=utils.urlBuilders.ensemblLocus("1",a,a),c="".concat(urls.ENSEMBL_GRCH37_URL,"/Homo_sapiens/Location/View?db=core;r=1:10-10");expect(b).toEqual(c)}),it("Build URL to a locus in Ensembl w/ new species and hg19",function(){var b=utils.urlBuilders.ensemblLocus("1",a,a,"hg19","Homo_sapiens2"),c="".concat(urls.ENSEMBL_GRCH37_URL,"/Homo_sapiens2/Location/View?db=core;r=1:10-10");expect(b).toEqual(c)}),it("Build URL to a locus in Ensembl w/ new species and hg19",function(){var b=utils.urlBuilders.ensemblLocus("1",a,a,"hg38","Homo_sapiens2"),c="".concat(urls.ENSEMBL_GRCH38_URL,"/Homo_sapiens2/Location/View?db=core;r=1:10-10");expect(b).toEqual(c)}),it("Raise error for not supported reference for Ensembl",function(){expect(function(){return utils.urlBuilders.ensemblLocus("1",a,a,"werid","Homo_sapiens2")}).toThrow()}),it("Build URL to a variant in ExAC",function(){var d=utils.urlBuilders.exacVariant("1",a,b,c),e="".concat(urls.EXAC_URL,"/variant/1-10-A-T");expect(d).toEqual(e)}),it("Build URL to a variant in gnomAD",function(){var d=utils.urlBuilders.gnomadVariant("1",a,b,c),e="".concat(urls.GNOMAD_URL,"/variant/1-10-A-T");expect(d).toEqual(e)}),it("Build URL to a locus in UCSC",function(){var b=utils.urlBuilders.ucscLocus("1",a,a),c="".concat(urls.UCSC_URL,"/cgi-bin/hgTracks?db=hg19&position=chr1:10-10");expect(b).toEqual(c)}),it("Build URL to a locus in UCSC w/ genome",function(){var b=utils.urlBuilders.ucscLocus("1",a,a,"hg38"),c="".concat(urls.UCSC_URL,"/cgi-bin/hgTracks?db=hg38&position=chr1:10-10");expect(b).toEqual(c)}),it("Build URL to a locus in DGV",function(){var b=utils.urlBuilders.dgvRegionSearch("1",a,a),c="".concat(urls.DGV_URL,"/gb2/gbrowse/dgv2_hg19/?name=chr").concat("1",":").concat(a,"-").concat(a,";search=Search");expect(b).toEqual(c)}),it("Build URL to GeneCards entry",function(){var a=utils.urlBuilders.geneCardsEntry(e),b="".concat(urls.GENE_CARDS_URL,"/cgi-bin/carddisp.pl?gene=MFN2");expect(a).toEqual(b)}),it("Build URL to NCBI Genetics Home Resource entry",function(){var a=utils.urlBuilders.ghrEntry(e),b="".concat(urls.GHR_URL,"/gene/MFN2");expect(a).toEqual(b)}),it("Build URL to HGNC entry",function(){var a=utils.urlBuilders.hgncEntry(e),b="".concat(urls.HGNC_URL,"/cgi-bin/search?search_type=all&search=MFN2");expect(a).toEqual(b)}),it("Build URL to Gene Reviews entry",function(){var a=utils.urlBuilders.geneReviewsEntry(e),b="".concat(urls.GENEREVIEWS_URL,"/?term=MFN2");expect(a).toEqual(b)}),it("Build URL to GTEx entry",function(){var a=utils.urlBuilders.gtexEntry(e),b="".concat(urls.GTEX_URL,"/home/gene/MFN2");expect(a).toEqual(b)}),it("Build URL to ExAC Gene entry",function(){var a=utils.urlBuilders.exacGeneEntry(e),b="".concat(urls.EXAC_URL,"/gene/MFN2");expect(a).toEqual(b)}),it("Build URL to ExAC Gene entry",function(){var a=utils.urlBuilders.gnomadGeneEntry(e),b="".concat(urls.GNOMAD_URL,"/gene/MFN2");expect(a).toEqual(b)}),it("Build URL to a variant in DECIPHER",function(){var b=utils.urlBuilders.decipherVariant("1",a,a),c="".concat(urls.DECIPHER_URL,"/search?q=1:10-10#consented-patients/results");expect(b).toEqual(c)}),it("Build URL to a region in DECIPHER",function(){var b=utils.urlBuilders.decipherRegionSearch("1",a,a),c="".concat(urls.DECIPHER_URL,"/search?q=chr").concat("1",":").concat(a,"-").concat(a,"#consented-patients/results");expect(b).toEqual(c)}),it("Build URL to a variant in HGMD",function(){var a=utils.urlBuilders.hgmdVariant(d),b="".concat(urls.HGMD_URL,"/hgmd/pro/mut.php?acc=cDNA-1");expect(a).toEqual(b)}),it("Build URL to a gene in HGMD",function(){var a=utils.urlBuilders.hgmdGene(e),b="".concat(urls.HGMD_URL,"/hgmd/pro/gene.php?gene=MFN2");expect(a).toEqual(b)}),it("Build URL to OMIM entry",function(){var a=utils.urlBuilders.omimEntry("id10"),b="".concat(urls.OMIM_URL,"/entry/id10");expect(a).toEqual(b)}),it("Build URL to search OMIM",function(){var a=utils.urlBuilders.omimSearch("search"),b="".concat(urls.OMIM_URL,"/search/?index=entry&search=search");expect(a).toEqual(b)}),it("Build URL to HPO entry",function(){var a=utils.urlBuilders.hpoEntry("HP:001"),b="".concat(urls.HPO_URL,"/hpoweb/showterm?id=HP:001");expect(a).toEqual(b)}),it("Build URL to HPO entry w/ padding",function(){var a=utils.urlBuilders.hpoEntry("1"),b="".concat(urls.HPO_URL,"/hpoweb/showterm?id=HP:0000001");expect(a).toEqual(b)}),it("Build URL to Orphanent entry",function(){var a=utils.urlBuilders.orphanetEntry("id1"),b="".concat(urls.ORPHANET_URL,"/consor/cgi-bin/OC_Exp.php?Lng=EN&Expert=id1");expect(a).toEqual(b)}),it("Build URL to Alamut entry",function(){var a=utils.urlBuilders.alamutEntry(d),b="".concat(urls.ALAMUT_URL,"/show?request=cDNA-1");expect(a).toEqual(b)})});